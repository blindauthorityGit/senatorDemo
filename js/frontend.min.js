function domReady() {
    function addBox(box) {
        const boxWrap = document.createElement("div");
        boxWrap.setAttribute("class", "row classRowP classRowMbottom");
        const outputA = document.createElement("div");
        let outputB, outputBWrap;
        switch (
            (outputA.setAttribute("class", "col-sm-4 classTextTitle"),
            (outputA.innerHTML = box.inputA),
            box.type)
        ) {
            case "1":
                (outputB = document.createElement("div")).setAttribute(
                    "class",
                    "col-sm-8 classTextInput size"
                );
                break;
            case "2":
                (outputBWrap = document.createElement("div")).setAttribute(
                    "class",
                    "col-sm-8 classEmailInput size html"
                ),
                    (outputB = document.createElement("a")).setAttribute(
                        "href",
                        "http://" + box.inputB
                    );
                break;
            case "3":
                (outputBWrap = document.createElement("div")).setAttribute(
                    "class",
                    "col-8 classPhoneInput size"
                ),
                    (outputB = document.createElement("a")).setAttribute(
                        "href",
                        "tel:" + box.inputB
                    );
                break;
            case "4":
                (outputBWrap = document.createElement("div")).setAttribute(
                    "class",
                    "col-sm-8 classEmailInput size"
                ),
                    (outputB = document.createElement("a")).setAttribute(
                        "href",
                        "mailto:" + box.inputB
                    );
                break;
            case "5":
                (outputBWrap = document.createElement("div")).setAttribute(
                    "class",
                    "col-sm-8 classEmailInput size"
                ),
                    (outputB = document.createElement("a")).setAttribute(
                        "href",
                        box.inputB
                    );
        }
        "5" === box.type
            ? "noName" === box.inputA
                ? (outputB.innerHTML = box.inputB)
                : (outputB.innerHTML = box.inputA)
            : (outputB.innerHTML = box.inputB),
            "1" !== box.type
                ? (outputBWrap.appendChild(outputB),
                  boxWrap.appendChild(outputBWrap))
                : boxWrap.appendChild(outputB),
            boxField.appendChild(boxWrap);
    }
    function initPage() {
        let formData = new FormData();
        formData.set("what", "frontPageInit");
        let XHR = new XMLHttpRequest();
        XHR.addEventListener("load", function (event) {
            const response = XHR.response;
            console.log(XHR.response),
                response.success &&
                    (setKontaktData(response.stammData),
                    response.numBoxes &&
                        response.boxes.forEach((box) => {
                            addBox(box);
                        }),
                    (processing.style.display = "none"));
        }),
            XHR.addEventListener("error", function (event) {
                alert("Oops! Something went wrong.");
            }),
            (XHR.responseType = "json"),
            XHR.open("POST", "frontend.process.php"),
            XHR.send(formData);
    }
    function setKontaktData(data) {
        (title.innerHTML = data.title),
            (firma.innerHTML = data.firma),
            (name.innerHTML = data.name),
            (strasse.innerHTML = data.strasse),
            (land.innerHTML = data.land),
            (tel.innerHTML = data.tel),
            (ort.innerHTML = data.plz + " " + data.ort),
            (mail.innerHTML = data.mail),
            (mail.href = "mailto: " + data.mail),
            "" !== data.logo
                ? (logo.src = data.logo)
                : (logo.src = defaultLogo);
    }
    const boxField = document.getElementById("boxField"),
        title = document.getElementById("title"),
        firma = document.getElementById("firma"),
        name = document.getElementById("name"),
        strasse = document.getElementById("strasse"),
        land = document.getElementById("land"),
        logo = document.getElementById("logo"),
        ort = document.getElementById("ort"),
        tel = document.getElementById("tel"),
        mail = document.getElementById("mail"),
        defaultLogo = "img/logo_ph.jpg",
        processing = document.getElementById("processing");
    (processing.style.display = "none"), initPage();
}
"loading" === document.readyState
    ? document.addEventListener("DOMContentLoaded", domReady)
    : domReady();
